<div class="col-md-12" ng-controller="CrudProgrammesSessionsController">
    <nav aria-label="breadcrumb">
        <ol class="breadcrumb" style="background: #fff">
            <li class="breadcrumb-item"><a href="/Sessions"><i class="ri-menu-3-line mr-1 float-left"></i>Sessions</a></li>
            <li class="breadcrumb-item active" aria-current="page">Gérer Programme</li>
            <div style="position: absolute;right: 2%;top: 0" >
                <button ng-if="ShowProgramme" ng-click="EditProgramme()" type="button" class="float-right btn btn-primary" >
                    Modifier Programme
                </button>
                <button ng-click="AddProgramme()" type="button" class="float-right btn btn-primary" >
                    {{!ShowProgramme?'Nouveau Programme':'Supprimer Programme'}}
                </button>
            </div>

        </ol>
    </nav>
    <div class="row" ng-if="ShowProgramme">
        <div class="col-12">
            <div class="card">
                <div class="card-body">
                    <div class="col-md-12">
                        <label>Titre Programme</label>
                        <p ng-bind="programme.TITRE">
                    </div>
                </div>
            </div>
            <uib-accordion close-others="true">
                        <div uib-accordion-group class="mt-1" heading="Description du programme" is-open="true" template-url="app/Modules/SessionsModule/Resources/views/accordion_programme.html">
                            <div class="card">
                                <div class="card-body">
                                    <div class="row">
                                        <div class="col-md-12">
                                            <label>Description du programme</label>
                                            <p ng-bind-html="programme.DESCRIPTION" ></p>
                                        </div>
                                    </div>
                                </div>

                            </div>
                        </div>

                        <div uib-accordion-group class="mt-1" heading="Objectifs pédagogiques" template-url="app/Modules/SessionsModule/Resources/views/accordion_programme.html">
                            <div class="card">
                                <div class="card-body">
                                    <div class="row">
                                        <ul  class="col-md-12">
                                            <li ng-repeat="objectif in programme.objectifs" class="col-md-12">
                                                <div class="row">
                                                    <div class="col-md-1">{{$index+1}}-</div>
                                                    <div class="col-md-9">
                                                        <div class="form-group">
                                                            <p ng-bind="objectif.TEXT"  ></p>
                                                        </div>
                                                    </div>
                                                    <hr>
                                                </div>
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>

                <div uib-accordion-group class="mt-1" heading="Profil des apprenants" template-url="app/Modules/SessionsModule/Resources/views/accordion_programme.html">
                    <div class="card" style="margin-bottom: 35px;">
                        <div class="card-header">
                            <h4>Clients potentiels</h4>
                        </div>
                        <div class="card-body">
                            <div class="row">
                                <div class="col-md-12">
                                    <ul class="col-md-12">
                                        <li ng-repeat="potentiel in programme.potentiels" class="col-md-12">
                                            <div class="row">
                                                <div class="col-md-1">
                                                    {{$index+1}}-
                                                </div>
                                                <div class="col-md-9">
                                                        <p ng-bind="potentiel.TEXT" ></p>
                                                </div>
                                                <hr>
                                            </div>
                                        </li>

                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="card" style="margin-bottom: 35px;">
                        <div class="card-header">
                            <h4>Pré-requis</h4>
                        </div>
                        <div class="card-body">
                            <div class="row">
                                <div class="col-md-12">
                                    <ul dnd-list="programme.prerequis" class="col-md-12" dnd-allowed-types="['prereq']">
                                        <li ng-repeat="prerequi in programme.prerequis" class="col-md-12">
                                            <div class="row">
                                                <div class="col-md-1">
                                                    {{$index+1}}-
                                                </div>
                                                <div class="col-md-9">
                                                        <p ng-bind="prerequi.TEXT"></p>
                                                </div>
                                                <hr>
                                            </div>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                        <div uib-accordion-group class="mt-1" heading="Contenu de la formation (progression pédagogique)" template-url="app/Modules/SessionsModule/Resources/views/accordion_programme.html">
                            <div class="card">
                                <div class="card-body">
                                    <div class="row">
                                        <ul class="col-md-12">
                                            <li class="col-md-12" ng-repeat="formation in programme.formations">
                                                <div class="row">
                                                    <div class="col-md-1">{{$index+1}}-</div>
                                                    <div class="col-md-9">
                                                            <p ng-bind="formation.TEXT" ></p>
                                                    </div>
                                                    <hr>
                                                </div>
                                                <div class="offset-1 col-md-9" style="margin-bottom: 50px;">

                                                </div>
                                                <ul class="offset-1 col-md-9">
                                                    <li class="col-md-12" ng-repeat="sous_formation in formation.sous_formations">
                                                        <div class="row">
                                                            <div class="col-md-1">{{$index+1}}-</div>
                                                            <div class="col-md-9">
                                                                    <p ng-bind="sous_formation.TEXT" ></p>
                                                            </div>

                                                            <hr>
                                                        </div>
                                                    </li>
                                                </ul>
                                            </li>
                                        </ul>
                                    </div>
                                </div>

                            </div>
                        </div>

                        <div uib-accordion-group class="mt-1" heading="Modalités de certifications" template-url="app/Modules/SessionsModule/Resources/views/accordion_programme.html">
                            <div class="card" >
                                <div class="card-body">
                                    <div class="row">
                                        <div class="col-md-6">
                                            <label>Résultats attendus à l'issue de la formation</label>
                                            <p ng-bind="programme.RESULTAT" ></p>
                                        </div>
                                        <div class="col-md-6">
                                            <label>Modalités d'obtention</label>
                                            <p ng-bind="programme.OBTENTION" ></p>
                                        </div>
                                        <div class="col-md-6">
                                            <label>Détails sur la certification</label>
                                            <p ng-bind="programme.CERTIFICATION" ></p>
                                        </div>
                                        <div class="col-md-6">
                                            <label>Durée de validité</label>
                                            <p ng-bind="programme.VALIDITE" ></p>
                                        </div>
                                    </div>
                                </div>

                            </div>
                        </div>
                    </uib-accordion>
        </div>
    </div>
    <div class="col-md-12 bg-white py-2 my-2" ng-if="!ShowProgramme">
        <div class="iq-search-bar">
            <div class="searchbox" style="width: 100%">
                <input type="text" class="text search-input" ng-change="infiniteLimit = 5" type="search_inter"
                       placeholder="Recherche programmes..."
                       ng-model="search">
                <a class="search-link" href="#"><i class="ri-search-line"></i></a>
            </div>
        </div>
    </div>
    <div class="row" ng-if="!ShowProgramme" infinite-scroll="loadMore(searched,infiniteLimit)" class="scroll-list">

        <div class="col-md-4" ng-repeat="programme in  searched = (liste_data|filter:search)| orderBy: '-DATE'| limitTo:infiniteLimit">
            <div  class="iq-card programme" style="cursor: pointer" ng-click="SelectProgramme(programme.ID_PROGRAMME,$event)">
                <div class="iq-card-body ">
                    <div  class="bg-primary p-3 rounded d-flex align-items-center justify-content-between mb-3">
                        <h5  class="text-white">{{ programme.TITRE }}</h5>
                    </div>
                    <div class="row">
                        <p  style="display: inline-flex;" class="font-size-12 mb-0 col-md-12"><b><i class="ri-community-line mr-1"></i> Référence : </b><br><span class="span-header"> {{programme.REF}}</span></p>
                    </div>
                </div>
            </div>

        </div>
<!--        <div class="col-md-3"  ng-repeat="programme in  searched = (liste_data|filter:search)| orderBy: '-DATE'| limitTo:infiniteLimit" >-->
<!--                <folder class="programme" ng-click="SelectProgramme(programme.ID_PROGRAMME,$event)" data="programme" template-url="app/Modules/SessionsModule/Resources/views/folder-programmes.html"  methods="folderMethodes"></folder>-->
<!--        </div>-->
        <button ng-if="SelectedProgramme!=0" class="btn-block float-left btn btn-primary" ng-click="SelectedProgramme==0?void:Save()">Enregistrer</button>
    </div>

</div>
<style>
    .programme.active{
        background-color: rgba(149, 72, 179, 0.5);
        color: #fff;
    }
    /*.programme.active .folder .folder-summary__details__name,*/
    /*.programme.active .folder .folder-summary__details__name .user-name ,*/
    /*.programme.active .folder .folder-item__details__name,*/
    /*.programme.active .folder .folder-item__details__date*/
    /*{*/
    /*    color: #fff;*/
    /*}*/
    /*.card-collapse .card-body {*/
    /*    background: #fff;*/
    /*}*/
    /*.tabs{
        position: relative; width: auto; text-align: center; line-height: 1px; background: rgb(0 0 0); border-radius: 3px; color: rgb(255 255 255); margin-right: 5px; font-size: 12px; padding: 15px; height: 0px; font-weight: 500; border: none;
    }
    .tabs.active{
        background: rgb(250 250 250) !important;
        color: rgb(0 0 0) !important;
        border: 1px solid #dbdbdb !important;
    }*/
    .step.ng-hide {
        opacity: 0;
    }
    .step:not(.ng-hide)  {
        -webkit-transition: opacity .9s linear;
        -o-transition: opacity .9s linear;
        transition: opacity .9s linear
    }

    @media (prefers-reduced-motion:reduce) {
        .fade:not(.ng-hide) {
            -webkit-transition: none;
            -o-transition: none;
            transition: none
        }
    }
    .alert.ng-hide {
        opacity: 0;
    }
    .alert:not(.ng-hide)  {
        -webkit-transition: opacity .9s linear;
        -o-transition: opacity .9s linear;
        transition: opacity .9s linear
    }

    @media (prefers-reduced-motion:reduce) {
        .alert:not(.ng-hide) {
            -webkit-transition: none;
            -o-transition: none;
            transition: none
        }
    }
    .pickr .pcr-button {
        width: 15em;
    }
    .customCheck1{
        cursor: pointer;
    }
    .rui-profile .rui-profile-img img {
        width: 100px;
        height: 100px;
        font-family: "object-fit: cover";
        -o-object-fit: cover;
        object-fit: cover;
    }
    /*.btn-todo {*/
    /*    position: relative;*/
    /*    width: 100%;*/
    /*    margin-bottom: 15px;*/
    /*    text-align: center;*/
    /*    line-height: 1px;*/
    /*    border-radius: 3px;*/
    /*    background: rgb(0 0 0);*/
    /*    color: rgb(255 255 255);*/
    /*    border: 1px solid #dbdbdb;*/
    /*    font-size: 12px;*/
    /*    padding: 15px;*/
    /*    height: 0px;*/
    /*    font-weight: 500;*/
    /*}*/
    /*.btn-todo:hover{*/
    /*    background: rgb(250 250 250) !important;*/
    /*    border: none !important;*/
    /*    color: rgb(0 0 0) !important;*/
    /*}*/

    .scroll-list {
        max-height: 60vh;
        overflow: hidden auto;
    }
</style>
